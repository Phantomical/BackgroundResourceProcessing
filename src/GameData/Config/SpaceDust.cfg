// SpaceDust Integration.
//
// This just models the consumption of scanners and harvesters. Modelling
// resource distributions is hard so we just patch the existing spacedust
// code to deal with it.
//
// ModuleSpaceDustScanner is explicitly excluded from background simulation
// because it doesn't work when the vessel is not loaded. This way it is
// modelled as if it is turned off when the vessel is inactive.

BACKGROUND_CONVERTER:NEEDS[SpaceDust]
{
    name = ModuleSpaceDustHarvester
    adapter = BackgroundConstantConverter

    ActiveCondition = %Enabled

    INPUT_RESOURCE
    {
        ResourceName = ElectricCharge
        Ratio = %PowerCost
    }
}

BACKGROUND_CONVERTER:NEEDS[SpaceDust]
{
    name = ModuleSpaceDustTelescope
    adapter = BackgroundConstantConverter

    ActiveCondition = %Enabled

    INPUT_RESOURCE
    {
        ResourceName = ElectricCharge
        Ratio = %PowerCost
    }
}
