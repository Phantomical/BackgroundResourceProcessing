// This file defines how stock modules are treated for the purpose of
// background processing.
//
// In order to define background behaviour for a module you will need to write
// a BACKGROUND_CONVERTER block. At a minimum, each one will look like this:
//
// BACKGROUND_CONVERTER
// {
//     // The name of the module that this converter applies to.
//     //
//     // The type specified in adapter will then be handed a reference to the
//     // relevant PartModule at unload so it can indicate what said module
//     // does in the background.
//     name = ModuleCommand
//
//     // The name of the type that will be used to 
//     adapter = BackgroundGenericConverter
// }


BACKGROUND_CONVERTER
{
    name = ModuleCommand
    adapter = BackgroundGenericConverter

    MultiplierCondition = %hibernateOnWarp || %hibernation
    MultiplierField = %hibernationMultiplier
}

BACKGROUND_CONVERTER
{
    name = ModuleGenerator
    adapter = BackgroundGenericConverter

    // We do not simulate throttle-controlled generators in the background
    ActiveCondition = !%isThrottleControlled && (%isAlwaysActive || %generatorIsActive)
}

BACKGROUND_CONVERTER
{
    name = ModuleDeployableSolarPanel
    adapter = BackgroundSolarPanel
}

BACKGROUND_CONVERTER
{
    name = ModuleResourceConverter
    adapter = BackgroundResourceConverter
}

BACKGROUND_CONVERTER
{
    name = ModuleResourceHarvester
    adapter = BackgroundResourceHarvester
}

RESOURCE_DEFINITION
{
    name = BRPScienceLabTime

    displayName = #LOC_BRP_ScienceLabTime_DisplayName
    abbreviation = #LOC_BRP_ScienceLabTime_Abbreviation

    density = 0
    unitCost = 0
    hsp = 1
    flowMode = NO_FLOW
    transfer = NONE
    isTweakable = False
    isVisible = False
    volume = 1
}

BACKGROUND_CONVERTER
{
    name = ModuleScienceConverter
    adapter = BackgroundScienceConverter

    TimePassedResourceName = BRPScienceLabTime
}

BACKGROUND_INVENTORY
{
    name = ModuleScienceConverter
    adapter = BackgroundScienceInventory

    TimePassedResourceName = BRPScienceLabTime
}

RESOURCE_DEFINITION
{
    name = BRPSpaceObjectMass

    displayName = #LOC_BRP_SpaceObjectMass_DisplayName
    abbreviation = #LOC_BRP_SpaceObjectMass_Abbreviation

    density = 0
    unitCost = 0
    hsp = 1
    flowMode = NO_FLOW
    transfer = NONE
    isTweakable = False
    isVisible = False
    volume = 1
}

BACKGROUND_CONVERTER
{
    name = ModuleAsteroidDrill
    adapter = BackgroundAsteroidDrill

    MassResourceName = BRPSpaceObjectMass
}

BACKGROUND_CONVERTER
{
    name = ModuleCometDrill
    adapter = BackgroundCometDrill

    MassResourceName = BRPSpaceObjectMass
}

BACKGROUND_INVENTORY
{
    name = ModuleAsteroidInfo
    adapter = BackgroundSpaceObjectMass

    MassResourceName = BRPSpaceObjectMass
}

BACKGROUND_INVENTORY
{
    name = ModuleCometInfo
    adapter = BackgroundSpaceObjectMass

    MassResourceName = BRPSpaceObjectMass
}
